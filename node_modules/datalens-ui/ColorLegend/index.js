/**
 * Color Legend Control
 * @class
 * @extends external:H.ui.Control
 */
class ColorLegend extends H.ui.Control {
    /**
     * @param {function} colorScale - scale with domain 0..1
     */
    constructor(colorScale) {
        super();
        this.colorScale = colorScale;
    }
    renderInternal(el) {
        this.addClass('dl-color-legend');
        this.labels = document.createElement('div');
        this.labels.className = 'dl-color-legend__labels';
        const canvas = document.createElement('canvas');
        canvas.width = 200;
        canvas.height = 20;
        const ctx = canvas.getContext('2d');
        for (let i = 0; i <= 1; i += 1 / canvas.width) {
            const x = i * canvas.width;
            ctx.fillStyle = this.colorScale(i);
            ctx.fillRect(x, 1, 1, canvas.height);
        }
        el.appendChild(canvas);
        el.appendChild(this.labels);
    }
    /**
     * @param {string[]} labels - label html
     */
    setLabels(labels) {
        this.labels.innerHTML = labels.map(
            label => `<div>${label}</div>`
        ).join('');
    }
}

export default ColorLegend;
